#=====================================================================
# TEST 业务服务 (VIP 监听 32xxx -> 后端 实际 NodePort)
#=====================================================================

listen pl_api_test
    bind *:32101
    mode http
    option forwardfor
    server k8s-m1 192.168.0.221:31498 check
    server k8s-m2 192.168.0.222:31498 check
    server k8s-m3 192.168.0.223:31498 check
    server k8s-w1 192.168.0.224:31498 check
    server k8s-w2 192.168.0.225:31498 check

listen pl_web_test
    bind *:32102
    mode http
    cookie SERVERID insert indirect nocache
    server k8s-m1 192.168.0.221:32492 check cookie s1
    server k8s-m2 192.168.0.222:32492 check cookie s2
    server k8s-m3 192.168.0.223:32492 check cookie s3
    server k8s-w1 192.168.0.224:32492 check cookie s4
    server k8s-w2 192.168.0.225:32492 check cookie s5

listen supply_api_test
    bind *:32103
    mode http
    server k8s-m1 192.168.0.221:31064 check
    server k8s-m2 192.168.0.222:31064 check
    server k8s-m3 192.168.0.223:31064 check
    server k8s-w1 192.168.0.224:31064 check
    server k8s-w2 192.168.0.225:31064 check

listen supply_web_test
    bind *:32104
    mode http
    cookie SERVERID insert indirect nocache
    server k8s-m1 192.168.0.221:32354 check cookie s1
    server k8s-m2 192.168.0.222:32354 check cookie s2
    server k8s-m3 192.168.0.223:32354 check cookie s3
    server k8s-w1 192.168.0.224:32354 check cookie s4
    server k8s-w2 192.168.0.225:32354 check cookie s5

listen bim_test
    bind *:32105
    mode http
    server k8s-m1 192.168.0.221:32626 check
    server k8s-m2 192.168.0.222:32626 check
    server k8s-m3 192.168.0.223:32626 check
    server k8s-w1 192.168.0.224:32626 check
    server k8s-w2 192.168.0.225:32626 check

listen aiot_api_test
    bind *:32106
    mode http
    server k8s-m1 192.168.0.221:30453 check
    server k8s-m2 192.168.0.222:30453 check
    server k8s-m3 192.168.0.223:30453 check
    server k8s-w1 192.168.0.224:30453 check
    server k8s-w2 192.168.0.225:30453 check

listen aiot_web_test
    bind *:32107
    mode http
    server k8s-m1 192.168.0.221:31609 check
    server k8s-m2 192.168.0.222:31609 check
    server k8s-m3 192.168.0.223:31609 check
    server k8s-w1 192.168.0.224:31609 check
    server k8s-w2 192.168.0.225:31609 check

listen ai_recipe_test
    bind *:32108
    mode http
    server k8s-m1 192.168.0.221:32737 check
    server k8s-m2 192.168.0.222:32737 check
    server k8s-m3 192.168.0.223:32737 check
    server k8s-w1 192.168.0.224:32737 check
    server k8s-w2 192.168.0.225:32737 check
