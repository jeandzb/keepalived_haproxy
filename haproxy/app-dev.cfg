#=====================================================================
# DEV 业务服务 (VIP 监听 31xxx -> 后端 实际 NodePort)
#=====================================================================

listen pl_api_dev
    bind *:31101
    mode http
    option forwardfor
    server k8s-m1 192.168.0.221:31498 check
    server k8s-m2 192.168.0.222:31498 check
    server k8s-m3 192.168.0.223:31498 check
    server k8s-w1 192.168.0.224:31498 check
    server k8s-w2 192.168.0.225:31498 check

listen pl_web_dev
    bind *:31102
    mode http
    cookie SERVERID insert indirect nocache
    server k8s-m1 192.168.0.221:31171 check cookie s1
    server k8s-m2 192.168.0.222:31171 check cookie s2
    server k8s-m3 192.168.0.223:31171 check cookie s3
    server k8s-w1 192.168.0.224:31171 check cookie s4
    server k8s-w2 192.168.0.225:31171 check cookie s5

listen supply_api_dev
    bind *:31103
    mode http
    server k8s-m1 192.168.0.221:32132 check
    server k8s-m2 192.168.0.222:32132 check
    server k8s-m3 192.168.0.223:32132 check
    server k8s-w1 192.168.0.224:32132 check
    server k8s-w2 192.168.0.225:32132 check

listen supply_web_dev
    bind *:31104
    mode http
    cookie SERVERID insert indirect nocache
    server k8s-m1 192.168.0.221:32096 check cookie s1
    server k8s-m2 192.168.0.222:32096 check cookie s2
    server k8s-m3 192.168.0.223:32096 check cookie s3
    server k8s-w1 192.168.0.224:32096 check cookie s4
    server k8s-w2 192.168.0.225:32096 check cookie s5

listen bim_dev
    bind *:31105
    mode http
    server k8s-m1 192.168.0.221:30885 check
    server k8s-m2 192.168.0.222:30885 check
    server k8s-m3 192.168.0.223:30885 check
    server k8s-w1 192.168.0.224:30885 check
    server k8s-w2 192.168.0.225:30885 check

listen aiot_api_dev
    bind *:31106
    mode http
    server k8s-m1 192.168.0.221:30825 check
    server k8s-m2 192.168.0.222:30825 check
    server k8s-m3 192.168.0.223:30825 check
    server k8s-w1 192.168.0.224:30825 check
    server k8s-w2 192.168.0.225:30825 check

listen aiot_web_dev
    bind *:31107
    mode http
    server k8s-m1 192.168.0.221:31527 check
    server k8s-m2 192.168.0.222:31527 check
    server k8s-m3 192.168.0.223:31527 check
    server k8s-w1 192.168.0.224:31527 check
    server k8s-w2 192.168.0.225:31527 check

listen ai_recipe_dev
    bind *:31108
    mode http
    server k8s-m1 192.168.0.221:30276 check
    server k8s-m2 192.168.0.222:30276 check
    server k8s-m3 192.168.0.223:30276 check
    server k8s-w1 192.168.0.224:30276 check
    server k8s-w2 192.168.0.225:30276 check

